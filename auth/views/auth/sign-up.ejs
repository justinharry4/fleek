<%- include(coreRoot + '/head') %>
    <link rel="stylesheet" href="/css/auth.css">
    <link rel="stylesheet" href="/css/checkbox.css">
    <script src="/js/signup.js"></script>
    <script src="/js/checkbox.js"></script>
</head>
<body>
    <div id="signup-toplevel-container">
        <% if (signupStep === 'regstep1') { %>
            <%- include(coreRoot + '/header') %>
                <span class="toplevel-header-link-text"><a href="/signin">Sign In</a></span>
            </header>
            <div class="signup-main-container">
                <div class="signup-main-wrapper signup-step-<%= signupStep %>">
                    <div class="signup-step-img-wrapper">
                        <img src="/images/devices.png" alt="laptop tv tablet">
                    </div>
                    <h2 class="signup-stepno-heading">step <span class="small-num">1</span> of <span class="small-num">3</span></h2>
                    <h3 class="signup-step-heading">Finish setting up your account</h3>
                    <p class="signup-step-info-text">Fleek is personalized for you.<br>Create a password to watch on any device at any time</p>
                    <button type="button" class="native-bg block-strech proceed-button" data-signup-stepname="<%= signupStep %>" data-next-signup-stepname="<%= nextSignupStep %>">Next</button>
                </div>
            </div>
        <% } else if (signupStep === 'regform') { %>
            <%- include(coreRoot + '/header') %>
                <span class="toplevel-header-link-text"><a href="/signin">Sign In</a></span>
            </header>
            <div class="signup-main-container">
                <div class="signup-main-wrapper signup-step-<%= signupStep %>">
                    <h2 class="signup-stepno-heading">step <span class="small-num">1</span> of <span class="small-num">3</span></h2>
                    <% if (regAccountCreated) { %>
                        <h3 class="signup-step-heading">Account Created</h3>
                        <p class="signup-step-info-text">Use this email to access your account:</p>
                        <div id="signup-reg-email" class="text-bold"><%= regEmail %></div>
                    <% } else { %>
                        <h3 class="signup-step-heading">Create a password to start your membership</h3>
                        <p class="signup-step-info-text">Just a few more steps and you're done!<br>We hate paperwork, too.</p>
                        <form class="signup-form">
                            <fieldset>
                                <ul class="signup-form-ul">
                                    <li class="overlay-wrapper">
                                        <label for="signup-form-email" class="overlay focus-label">Add an email address</label>
                                        <input type="email" name="email" value="<%= regEmail %>" id="signup-form-email" class="block-strech" placeholder="">
                                    </li>
                                    <li class="overlay-wrapper">
                                        <label for="signup-form-password" class="overlay">Add a password</label>
                                        <input type="password" name="password" id="signup-form-password" class="block-strech" placeholder="">
                                    </li>
                                </ul>
                            </fieldset>
                            <label class="signup-sub-main-text custom-checkbox-container">
                                <%- include(coreRoot + '/checkbox', {
                                    checkboxName: 'fleek-special-offers', 
                                    checkboxId: 'signup-form-offers-checkbox', 
                                    checkboxValue: 'true',
                                    checked: false,
                                    disabled: false,
                                }) %>
                                Please do not email me Fleek special offers.
                            </label>
                    <% } %>
                            <button type="button" class="native-bg block-strech proceed-button" data-signup-stepname="<%= signupStep %>" data-next-signup-stepname="<%= nextSignupStep %>">Next</button>
                        </form>
                </div>
            </div>
        <% } else if (signupStep === 'regstep2') { %>
            <%- include(coreRoot + '/header') %>
                <span class="toplevel-header-link-text"><a href="/">Sign Out</a></span>
            </header>
            <div class="signup-main-container">
                <div class="signup-main-wrapper signup-step-<%= signupStep %>">
                    <div class="signup-step-img-wrapper">
                        <img src="/images/checkmark.png" alt="checkmark">
                    </div>
                    <h2 class="signup-stepno-heading">step <span class="small-num">2</span> of <span class="small-num">3</span></h2>
                    <h3 class="signup-step-heading">Choose your plan.</h3>
                    <ul class="signup-step-info-ul">
                        <li class="flex-wrapper">
                            <span class="svg-wraper"><%- include(svgRoot + '/checkmark.svg') %></span>
                            <span class="signup-step-info-text">No commitments, Cancel anytime.</span>
                        </li>
                        <li class="flex-wrapper">
                            <span class="svg-wraper"><%- include(svgRoot + '/checkmark.svg') %></span>
                            <span class="signup-step-info-text">Everything on Fleek for one low price</span>
                        </li>
                        <li class="flex-wrapper">
                            <span class="svg-wraper"><%- include(svgRoot + '/checkmark.svg') %></span>
                            <span class="signup-step-info-text">No ads and no extra fees. Ever.</span>
                        </li>
                    </ul>
                    <button type="button" class="native-bg block-strech proceed-button" data-signup-stepname="<%= signupStep %>" data-next-signup-stepname="<%= nextSignupStep %>">Next</button>
                </div>
            </div>
        <% } else if (signupStep === 'chooseplan') { %>
            <%- include(coreRoot + '/header') %>
                <span class="toplevel-header-link-text"><a href="/">Sign Out</a></span>
            </header>
            <div class="signup-main-container">
                <div class="signup-main-wrapper signup-step-<%= signupStep %>">
                    <h2 class="signup-stepno-heading">step <span class="small-num">2</span> of <span class="small-num">3</span></h2>
                    <h3 class="signup-step-heading">Choose the plan that's right for you</h3>
                    <ul class="signup-step-info-ul">
                        <li class="flex-wrapper">
                            <span class="svg-wraper"><%- include(svgRoot + '/checkmark.svg') %></span>
                            <span class="signup-step-info-text">Watch all you want. Ad-free.</span>
                        </li>
                        <li class="flex-wrapper">
                            <span class="svg-wraper"><%- include(svgRoot + '/checkmark.svg') %></span>
                            <span class="signup-step-info-text">Recommendations just for you.</span>
                        </li>
                        <li class="flex-wrapper">
                            <span class="svg-wraper"><%- include(svgRoot + '/checkmark.svg') %></span>
                            <span class="signup-step-info-text">Change or cancel your plan anytime.</span>
                        </li>
                    </ul>
                    <table id="sub-plan-table" cellspacing="0">
                        <thead>
                            <tr class="tr-plans flex-wrapper">
                                <th class="lead-cell-th"></th>
                                <% for (let plan in subscriptionData.plans) { %>
                                    <th class="signup-<%= (plan === regSubPlan) ? '' : 'inactive-' %>native-bg flex-wrapper sub-plan-button sub-plan-<%= plan %>" data-sub-plan="<%= plan %>">
                                        <label class="off-screen" for="signup-sub-plan-radio"><%= plan %> Plan</label>
                                        <input type="radio" name="sub-plan" value="<%= plan %>" class="off-screen" id="signup-sub-plan-radio" <%= (plan === regSubPlan) ? 'checked' : '' %>>
                                        <span><%= plan %></span>
                                    </th>
                                <% } %>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="tr-price flex-wrapper">
                                <th scope="row" class="lead-cell-th">Monthly Price</th>
                                <% for (let plan in subscriptionData.plans) { %>
                                    <td class="<%= (plan===regSubPlan) ? 'signup-native-fg' : '' %> sub-plan-<%= plan %>" data-sub-plan="<%= plan %>"><span>N<%= subscriptionData.plans[plan].price %></span></td>
                                <% } %>
                            </tr>
                            <tr class="tr-vid-quality flex-wrapper">
                                <th scope="row" class="lead-cell-th">Video Quality</th>
                                <% for (let plan in subscriptionData.plans) { %>
                                    <td class="<%= (plan===regSubPlan) ? 'signup-native-fg' : '' %> sub-plan-<%= plan %>" data-sub-plan="<%= plan %>"><span><%= subscriptionData.plans[plan].videoQuality %></span></td>
                                <% } %>
                            </tr>
                            <tr class="tr-resolution flex-wrapper">
                                <th scope="row" class="lead-cell-th">Resolution</th>
                                <% for (let plan in subscriptionData.plans) { %>
                                    <td class="<%= (plan===regSubPlan) ? 'signup-native-fg' : '' %> sub-plan-<%= plan %>" data-sub-plan="<%= plan %>"><span><%= subscriptionData.plans[plan].resolution %></span></td>
                                <% } %>
                            </tr>
                            <tr class="tr-devices flex-wrapper">
                                <th scope="row" class="lead-cell-th">Devices you can use to watch</th>
                                <% for (let plan in subscriptionData.plans) { %>
                                    <td class="<%= (plan===regSubPlan) ? 'signup-native-fg' : '' %> sub-plan-<%= plan %>" data-sub-plan="<%= plan %>">
                                        <div class="flex-wrapper">
                                            <% for (let device of subscriptionData.plans[plan].devices) { %>
                                                <span class="tr-svg-icon-container signup-sub-main-text">
                                                    <span class="tr-svg-wrapper signup-sub-main-text"><%- include(subscriptionData.urls[device]) %></span>
                                                    <%= device %>
                                                </span>
                                            <% } %>
                                        </div>
                                    </td>
                                <% } %>
                            </tr>
                        </tbody>
                    </table>
                    <div class="signup-sub-main-text signup-extra-plan-info">
                        <p>
                            HD (720p), Full HD (1080p), Ultra HD (4K) and HDR availability subject to your internet service and device capabilities.
                            Not all content is available in all resolutions. See our <a>Terms of Use</a> for more details.
                        </p>
                        <p>
                            Only people who live with you may use your account.
                            Watch on 4 different devices at the same time with Premium, 2 with Standard, and 1 with Basic and Mobile.
                        </p>
                    </div>
                    <button class="native-bg block-strech proceed-button" data-signup-stepname="<%= signupStep %>" data-next-signup-stepname="<%= nextSignupStep %>">Next</button>
                </div>
            </div>
        <% } else if (signupStep === 'regstep3') { %>
            <%- include(coreRoot + '/header') %>
                <span class="toplevel-header-link-text"><a href="/">Sign Out</a></span>
            </header>
            <div class="signup-main-container">
                <div class="signup-main-wrapper signup-step-<%= signupStep %>">
                    <div class="signup-step-img-wrapper">
                        <img src="/images/lock.png" alt="lock">
                    </div>
                    <h2 class="signup-stepno-heading">step <span class="small-num">3</span> of <span class="small-num">3</span></h2>
                    <h3 class="signup-step-heading">Set up your payment</h3>
                    <div class="signup-step-info-text-wrapper">
                        <p class="signup-step-info-text">Your membership starts<br>as soon as you set up<br>payment.</p>
                        <p class="signup-step-info-text">No commitments.<br>Cancel online anytime</p>
                    </div>
                    <div class="signup-proceed-button-wrapper">
                        <div class="flex-wrapper signup-secure-server-wrapper signup-sub-main-text">
                            <span>Secure Server</span><img src="/images/svg/secure.svg" id="signup-secure-server-icon" alt="padlock icon">
                        </div>
                        <button type="button" class="proceed-button flex-wrapper" data-signup-stepname="<%= signupStep %>" data-next-signup-stepname="<%= nextSignupStep %>">
                            <span>Credit or Debit Card</span>
                            <img class="signup-card-option-icon" src="/images/svg/visa.svg">
                            <img class="signup-card-option-icon" src="/images/svg/mastercard.svg">
                            <img class="signup-card-option-icon" src="/images/verve.png">
                            <%- include(svgRoot + '/next-button.svg') %>
                        </button>
                    </div>
                </div>
            </div>
        <% } else if (signupStep === 'creditoption') { %>
            <%- include(coreRoot + '/header') %>
                <span class="toplevel-header-link-text"><a href="/">Sign Out</a></span>
            </header>
            <div class="signup-main-container">
                <div class="signup-main-wrapper signup-step-<%= signupStep %>">
                    <h2 class="signup-stepno-heading">step <span class="small-num">3</span> of <span class="small-num">3</span></h2>
                    <h3 class="signup-step-heading">Set up your credit or debit card</h3>
                    <h2 class="flex-wrapper signup-card-icons-wrapper">
                        <img src="/images/svg/visa.svg" class="signup-header-card-icon">
                        <img src="/images/svg/mastercard.svg" class="signup-header-card-icon">
                        <img src="/images/verve.png" class="signup-header-card-icon">
                    </h2>
                    <form class="signup-form" method="POST" action="/signup/creditoption">
                        <fieldset>
                            <ul class="signup-form-ul">
                                <li class="overlay-wrapper">
                                    <label for="signup-form-first-name" class="overlay">First name</label>
                                    <input type="text" name="first-name" id="signup-form-first-name" class="block-strech" placeholder="">
                                </li>
                                <li class="overlay-wrapper">
                                    <label for="signup-form-last-name" class="overlay">Last name</label>
                                    <input type="text" name="last-name" id="signup-form-last-name" class="block-strech" placeholder="">
                                </li>
                                <li class="overlay-wrapper">
                                    <label for="signup-form-card-number" class="overlay">Card number</label>
                                    <input type="number" name="card-number" id="signup-form-card-number" class="block-strech" placeholder="">
                                </li>
                                <li class="overlay-wrapper">
                                    <label for="signup-form-expiry-date" class="overlay">Expiry Date (MM/YY)</label>
                                    <input type="number" name="expiry-date" id="signup-form-expiry-date" class="block-strech" placeholder="">
                                </li>
                                <li class="overlay-wrapper">
                                    <div class="flex-wrapper" id="signup-cvv-input-wrapper">
                                        <label for="signup-form-cvv" class="overlay">Security Code (CVV)</label>
                                        <input type="number" name="cvv" id="signup-form-cvv" class="" placeholder="">
                                        <img src="/images/svg/question-mark.svg" id="signup-form-moreinfo-icon">
                                    </div>
                                </li>
                            </ul>
                        </fieldset>
                        <button type="button" class="flex-wrapper">
                            <span><span class="text-bold">N<%= subscriptionData.plans[regSubPlan].price %>/month</span><br><span class="greyed-text"><%= regSubPlan %> Plan</span></span><a id="signup-change-plan-link" class="text-bold link-blue">Change</a>
                        </button>
                        <p class="signup-sub-main-text greyed-text">Your payments will be processed internationally. Additional bank fees may apply.</p>
                        <p class="signup-sub-main-text greyed-text">
                            By checking the checkbox below you agree to our <a class="link-blue text-bold">Terms of Use</a>, <a class="link-blue text-bold">Privacy Statement</a>,
                            and that you are over 18. Fleek will automatically continue your membership and charge the membership fee (currently N4400/month) to your payment method until you cancel. You may cancel at any time to avoid future charges.
                        </p>
                        <label for="signup-form-tou-checkbox" class="signup-tou-checkbox-label custom-checkbox-container">
                            <%- include(coreRoot + '/checkbox', {checkboxName: 'terms-of-use', checkboxId: 'signup-form-tou-checkbox', checkboxValue: 'true', checked: false, disabled: false}) %>
                            I agree
                        </label>
                        <input type="submit" class="native-bg block-strech submit-button" value="Start Membership" data-signup-stepname="<%= signupStep %>" data-next-signup-stepname="<%= nextSignupStep %>">
                    </form>
                </div>
            </div>
        <% } %>
        <%- include(coreRoot + '/footer') %>
    </div>
<%- include(coreRoot + '/end') %>
